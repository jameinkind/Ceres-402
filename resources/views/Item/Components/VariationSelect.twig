<script type="x/template" id="vue-variation-select">
    <div>
        <div class="row">
            <div class="col-12 variation-select" v-for="(attribute, attributeKey) in attributes">
                <div class="input-unit" ref="labelBoxRef">
                    <!-- <select class="custom-select" v-model="selectedAttributes[attributeId]" @change="onSelectionChange(selectedAttributes[attributeId])"> -->
                    <select class="custom-select" @change="onSelectionChange(attributeKey, $event.target.value)">
                        <option :value="null" v-if="hasEmptyOption">{{ trans("Ceres::Template.singleItemPleaseSelect") }}</option>
                        <option
                            v-for="(value, attributeValueKey) in attribute.values"
                            :value="attributeValueKey"
                            :selected="selectedAttributes[attributeKey] == attributeValueKey"
                            :disabled="!isEnabled(value, attributeValueKey)">
                            ${ value.name }
                        </option>
                    </select>
                    <label v-tooltip="isTextCut(attribute.name)" data-toggle="tooltip" data-placement="top" :title="attribute.name">${ attribute.name }</label>
                </div>
            </div>
        </div>
    </div>
</script>
